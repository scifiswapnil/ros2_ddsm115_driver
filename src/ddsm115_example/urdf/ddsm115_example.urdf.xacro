<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="ddsm115_example">

  <!-- Two simple continuous joints -->
  <link  name="base_link"/>
  <link  name="joint1_link"/>
  <link  name="joint2_link"/>

  <joint name="shoulder" type="continuous">
    <parent link="base_link"/>
    <child  link="joint1_link"/>
    <origin xyz="0 0 0.1" rpy="0 0 0"/>
    <axis   xyz="0 0 1"/>
  </joint>

  <joint name="wrist" type="continuous">
    <parent link="joint1_link"/>
    <child  link="joint2_link"/>
    <origin xyz="0 0 0.25" rpy="0 1.57 0"/>
    <axis   xyz="0 0 1"/>
  </joint>


<ros2_control name="ddsm115_hw" type="system">
  
  <joint name="shoulder">
      <param name="motor_id">1</param>
      <param name="mode">POSITION_LOOP</param>
  </joint>
  
  <joint name="wrist">
      <param name="motor_id">2</param>
      <!-- <param name="mode">VELOCITY_LOOP</param> -->
      <param name="mode">EFFORT_LOOP</param>
  </joint>


  <hardware>
    <plugin>ddsm115_hardware::DDSM115HardwareInterface</plugin>
    <param name="serialport">/dev/ttyUSB0</param>
  </hardware>
</ros2_control>

</robot>
